!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ng.common"),require("tslib"),require("ng.forms"),require("ngx-translate.core"),require("rxjs"),require("ionic.storage"),require("wako-app.mobile-sdk"),require("ng.core"),require("ionic.angular")):"function"==typeof define&&define.amd?define(["ng.common","tslib","ng.forms","ngx-translate.core","rxjs","ionic.storage","wako-app.mobile-sdk","ng.core","ionic.angular"],e):"object"==typeof exports?exports.plugin=e(require("ng.common"),require("tslib"),require("ng.forms"),require("ngx-translate.core"),require("rxjs"),require("ionic.storage"),require("wako-app.mobile-sdk"),require("ng.core"),require("ionic.angular")):t.plugin=e(t["ng.common"],t.tslib,t["ng.forms"],t["ngx-translate.core"],t.rxjs,t["ionic.storage"],t["wako-app.mobile-sdk"],t["ng.core"],t["ionic.angular"])}("undefined"!=typeof self?self:this,(function(t,e,n,r,o,i,s,c,a){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,(function(e){return t[e]}).bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({0:function(t,e,n){t.exports=n("zUnb")},"0S4P":function(e,n){e.exports=t},"17wl":function(t,n){t.exports=e},"3xDq":function(t,e){t.exports=n},TGDj:function(t,e){t.exports=r},Vgaj:function(t,e){t.exports=o},Zr0N:function(t,e){t.exports=i},doF0:function(t,e){t.exports=s},vOrQ:function(t,e){t.exports=c},z1lQ:function(t,e){t.exports=a},zUnb:function(t,e,n){"use strict";n.r(e),n.d(e,"PluginModule",(function(){return et}));var r=n("17wl"),o=n("0S4P"),i=n("z1lQ"),s=n("doF0"),c=n("TGDj");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object(s.wakoLog)("plugin.my-plugin",t)}var u=n("vOrQ"),l=function(t){function e(e){var n=t.call(this)||this;return n.translate=e,n}return Object(r.__extends)(e,t),e.prototype.initialize=function(){a("plugin initialized")},e.prototype.afterInstall=function(){a("plugin installed")},e.prototype.afterUpdate=function(){a("plugin updated")},e.prototype.setTranslation=function(t,e){this.translate.setDefaultLang(t),this.translate.use(t),this.translate.setTranslation(t,e)},e.prototype.customAction=function(t,e){},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](c.TranslateService))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(s.PluginBaseService),p=function(){function t(t,e){this.toastCtrl=t,this.translateService=e}return t.prototype.simpleMessage=function(t,e,n,r){var o=this;void 0===n&&(n=2e3),void 0===r&&(r="top"),this.translateService.get(t,e).subscribe((function(t){o.toastCtrl.create({message:t,mode:"ios",position:r,duration:n}).then((function(t){t.present()}))}))},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275inject"](i.ToastController),u["\u0275\u0275inject"](c.TranslateService))},t.\u0275prov=u["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),d=n("Zr0N"),f=function(){function t(t){this.storage=t,this.basUrl="http://www.omdbapi.com/?apikey=",this.ratings=[]}return t.prototype.getOMDBRatings=function(t,e){return console.log(t),s.WakoHttpRequestService.get(this.basUrl+(t+"&i=")+e)},t.prototype.getRatings=function(t,e){return this.getOMDBRatings(t,e)},t.prototype.setAPI=function(t,e){console.log(e),console.log(t),this.storage.set(e,t)},t.prototype.getAPIKey=function(t){return this.storage.get(t)},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275inject"](d.Storage))},t.\u0275prov=u["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}();function h(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-card-content"),u["\u0275\u0275elementStart"](1,"ion-button"),u["\u0275\u0275text"](2," Open on Imdb "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}function m(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-card-content"),u["\u0275\u0275elementStart"](1,"ion-button"),u["\u0275\u0275text"](2," Open on Imdb "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}function b(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-card-content"),u["\u0275\u0275element"](1,"ion-button"),u["\u0275\u0275elementEnd"]())}var y=function(){function t(t,e,n){this.modalCtrl=t,this.toastService=e,this.omdbService=n,this.ratings=[]}return t.prototype.ngOnInit=function(){this.toastService.simpleMessage("openMedia",{imdbId:this.movie?this.movie.imdbId:this.show.imdbId})},t.prototype.dismiss=function(){this.modalCtrl.dismiss()},t.prototype.openImdb=function(t){s.BrowserService.open("http://www.imdb.com/title/"+t+"/")},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275directiveInject"](i.ModalController),u["\u0275\u0275directiveInject"](p),u["\u0275\u0275directiveInject"](f))},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["app-media-modal"]],decls:13,vars:4,consts:[["slot","end"],["color","light",3,"click"],["name","close"],[4,"ngIf"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-header"),u["\u0275\u0275elementStart"](1,"ion-toolbar"),u["\u0275\u0275elementStart"](2,"ion-title"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"ion-buttons",0),u["\u0275\u0275elementStart"](5,"ion-button",1),u["\u0275\u0275listener"]("click",(function(){return e.dismiss()})),u["\u0275\u0275element"](6,"ion-icon",2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"ion-content"),u["\u0275\u0275elementStart"](8,"ion-card"),u["\u0275\u0275template"](9,h,3,0,"ion-card-content",3),u["\u0275\u0275template"](10,m,3,0,"ion-card-content",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"ion-card"),u["\u0275\u0275template"](12,b,2,0,"ion-card-content",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",e.movie?e.movie.title:e.show.title+" "+e.episode.code," "),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngIf",e.movie),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.show),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",e.movie))},directives:[i.IonHeader,i.IonToolbar,i.IonTitle,i.IonButtons,i.IonButton,i.IonIcon,i.IonContent,i.IonCard,o.NgIf,i.IonCardContent],styles:[".icon-img[_ngcontent-%COMP%]{height:15px}.caption-txt[_ngcontent-%COMP%]{font-size:10px;font-weight:700}"]}),t}();function g(t,e){if(1&t&&(u["\u0275\u0275elementStart"](0,"figure"),u["\u0275\u0275element"](1,"img",3),u["\u0275\u0275elementStart"](2,"figcaption",4),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](n.value)}}function v(t,e){if(1&t&&(u["\u0275\u0275elementStart"](0,"figure"),u["\u0275\u0275element"](1,"img",5),u["\u0275\u0275elementStart"](2,"figcaption",4),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](n.value)}}function S(t,e){if(1&t&&(u["\u0275\u0275elementStart"](0,"figure"),u["\u0275\u0275element"](1,"img",6),u["\u0275\u0275elementStart"](2,"figcaption",4),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](n.value)}}function x(t,e){if(1&t&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275template"](1,g,4,1,"figure",2),u["\u0275\u0275template"](2,v,4,1,"figure",2),u["\u0275\u0275template"](3,S,4,1,"figure",2),u["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Metacritic"===n.source),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Rotten Tomatoes"===n.source),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Internet Movie Database"===n.source)}}var _=function(t){function e(e,n){var r=t.call(this)||this;return r.modalCtrl=e,r.omdbService=n,r.ratings=[],r}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this.getRatings(this.movie.imdbId)},e.prototype.getRatings=function(t){var e=this;this.omdbService.getAPIKey("storedOMDBAPIkey").then((function(n){e.omdbService.getRatings(n,t).subscribe((function(t){console.log(t.Ratings),t.Ratings.forEach((function(t){e.ratings.push({source:t.Source,value:t.Value})})),e.ratings=e.transform(e.ratings)}),(function(t){console.log("Error: ",t)}))}))},e.prototype.transform=function(t){var e=!1,n=!1,r=!1;return t.forEach((function(t){"Internet Movie Database"==t.source?e=!0:"Rotten Tomatoes"==t.source?n=!0:"Metacritic"==t.source&&(r=!0)})),e||t.push({source:"Internet Movie Database",value:"--"}),n||t.push({source:"Rotten Tomatoes",value:"--"}),r||t.push({source:"Metacritic",value:"--"}),t},e.prototype.setMovie=function(t){this.movie=t},e.prototype.openMovie=function(){this.modalCtrl.create({component:y,componentProps:{movie:this.movie}}).then((function(t){t.present()}))},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.ModalController),u["\u0275\u0275directiveInject"](f))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],features:[u["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:1,consts:[["expand","block","color","custom"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","metacritic","src","https://upload.wikimedia.org/wikipedia/commons/2/20/Metacritic.svg",1,"icon-img"],[1,"caption-txt"],["alt","rotten tomatoes","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Rotten_Tomatoes.svg/209px-Rotten_Tomatoes.svg.png",1,"icon-img"],["alt","IMDb","src","https://upload.wikimedia.org/wikipedia/commons/6/6a/New-imdb-logo.png",1,"icon-img"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-button",0),u["\u0275\u0275template"](1,x,4,3,"div",1),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.ratings))},directives:[i.IonButton,o.NgForOf,o.NgIf],styles:["ion-button[_ngcontent-%COMP%]{background-color:grey!important;border-radius:5px}.icon-img[_ngcontent-%COMP%]{height:15px}.caption-txt[_ngcontent-%COMP%]{font-size:10px;font-weight:700;color:#fff}"]}),e}(s.MovieDetailBaseComponent),w=n("3xDq"),E=function(){function t(t){this.omdbService=t}return t.prototype.ngOnInit=function(){var t=this;this.omdbService.getAPIKey("storedOMDBAPIkey").then((function(e){t.apiKeyValue=e}))},t.prototype.onAPISubmit=function(){this.omdbService.setAPI(this.apiKeyValue,"storedOMDBAPIkey")},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275directiveInject"](f))},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["app-api-providers"]],decls:6,vars:1,consts:[["value","","placeholder","Enter OMDB API Key",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-card-subtitle"),u["\u0275\u0275text"](1,"Add OMDB API key"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"ion-item"),u["\u0275\u0275elementStart"](3,"ion-input",0),u["\u0275\u0275listener"]("ngModelChange",(function(t){return e.apiKeyValue=t})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"ion-button",1),u["\u0275\u0275listener"]("click",(function(){return e.onAPISubmit()})),u["\u0275\u0275text"](5,"Submit"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",e.apiKeyValue))},directives:[i.IonCardSubtitle,i.IonItem,i.IonInput,i.TextValueAccessor,w.NgControlStatus,w.NgModel,i.IonButton],styles:[""]}),t}(),I=function(){function t(t){this.translate=t}return t.prototype.ngOnInit=function(){a("Current lang",this.translate.currentLang),a("Test instant translate",this.translate.instant("settings.title"))},t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275directiveInject"](c.TranslateService))},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],decls:17,vars:9,template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-content"),u["\u0275\u0275elementStart"](1,"ion-card"),u["\u0275\u0275elementStart"](2,"ion-card-header"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"ion-card"),u["\u0275\u0275elementStart"](6,"ion-card-content"),u["\u0275\u0275elementStart"](7,"ion-card-header"),u["\u0275\u0275elementStart"](8,"ion-card-title"),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"ion-card-content"),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"ion-card"),u["\u0275\u0275elementStart"](15,"ion-card-content"),u["\u0275\u0275element"](16,"app-api-providers"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,3,"settings.title")," "),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](10,5,"settings.OMDB")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](13,7,"settings.OMDBDes")))},directives:[i.IonContent,i.IonCard,i.IonCardHeader,i.IonCardContent,i.IonCardTitle,E],pipes:[c.TranslatePipe],styles:[""]}),t}(),O=function(t){function e(e){var n=t.call(this)||this;return n.modalCtrl=e,n}return Object(r.__extends)(e,t),e.prototype.setShowEpisode=function(t,e){this.show=t,this.episode=e},e.prototype.openEpisode=function(){this.modalCtrl.create({component:y,componentProps:{show:this.show,episode:this.episode}}).then((function(t){t.present()}))},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.ModalController))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],features:[u["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["expand","block","color","custom",3,"click"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-button",0),u["\u0275\u0275listener"]("click",(function(){return e.openEpisode()})),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"](" Show : ",e.show.title," - Episode ",e.episode.code," "))},directives:[i.IonButton],styles:["ion-button[_ngcontent-%COMP%]{background-color:#d26a1f!important;border-radius:5px}"]}),e}(s.EpisodeDetailBaseComponent),C=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["app-plugin-detail"]],decls:7,vars:6,template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-card"),u["\u0275\u0275elementStart"](1,"ion-card-title"),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"ion-card-content"),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,2,"details.title")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](6,4,"details.OMDBDes")))},directives:[i.IonCard,i.IonCardTitle,i.IonCardContent],pipes:[c.TranslatePipe],styles:[""]}),t}(),M=function(t){function e(e){var n=t.call(this)||this;return n.toastService=e,n}return Object(r.__extends)(e,t),e.prototype.setShowEpisode=function(t,e){this.show=t,this.episode=e},e.prototype.openEpisode=function(){this.toastService.simpleMessage("Click on episode: "+this.episode.title)},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](p))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],features:[u["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:0,consts:[[1,"ion-item-options"],[3,"click"],[1,"ion-item-detail"],["name","beer-outline"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"ion-item-option",1),u["\u0275\u0275listener"]("click",(function(){return e.openEpisode()})),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275element"](3,"ion-icon",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())},directives:[i.IonItemOption,i.IonIcon],styles:["ion-button[_ngcontent-%COMP%]{background-color:#d26a1f!important;border-radius:5px}.ion-item-options[_ngcontent-%COMP%]{display:flex;height:100%}.ion-item-options[_ngcontent-%COMP%]   .ion-item-detail[_ngcontent-%COMP%]{width:60px;display:grid;text-align:center}.ion-item-options[_ngcontent-%COMP%]   .ion-item-detail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2em;width:100%}.ion-item-options[_ngcontent-%COMP%]   .ion-item-detail[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{margin-top:3px;font-size:8px;text-transform:none}"]}),e}(s.EpisodeDetailBaseComponent);function P(t){return"function"==typeof t}var k=!1,j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){k=t},get useDeprecatedSynchronousErrorHandling(){return k}};function T(t){setTimeout((function(){throw t}),0)}var D={closed:!0,next:function(t){},error:function(t){if(j.useDeprecatedSynchronousErrorHandling)throw t;T(t)},complete:function(){}},B=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function A(t){return null!==t&&"object"==typeof t}var q=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),R=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i)n[i].remove(this);if(P(r))try{r.call(this)}catch(a){e=a instanceof q?H(a.errors):[a]}if(B(o)){i=-1;for(var s=o.length;++i<s;){var c=o[i];if(A(c))try{c.unsubscribe()}catch(a){e=e||[],a instanceof q?e=e.concat(H(a.errors)):e.push(a)}}}if(e)throw new q(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function H(t){return t.reduce((function(t,e){return t.concat(e instanceof q?e.errors:e)}),[])}var V=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),F=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=D;break;case 1:if(!n){i.destination=D;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new U(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new U(i,n,r,o)}return i}return r.__extends(e,t),e.prototype[V]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(R),U=function(t){function e(e,n,r,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return P(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==D&&(P((c=Object.create(n)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=i,s._error=r,s._complete=o,s}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;j.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=j.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):T(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;T(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};j.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),j.useDeprecatedSynchronousErrorHandling)throw n;T(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!j.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return j.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(T(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(F),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(F),z=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(F);function K(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Y=K(),L=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Q(t){return t}function $(t){return 0===t.length?Q:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var G=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof F)return t;if(t[V])return t[V]()}return t||e||n?new F(t,e,n):new F(D)}(t,e,n);if(o.add(r?r.call(o,this.source):this.source||j.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),j.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){j.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof F?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Z(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:$(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Z(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Z(t){if(t||(t=j.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var W=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.selector,this.caught))},t}(),J=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return r.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new z(this,void 0,void 0);this.add(r);var o=function(t,e,n,r,o){if(void 0===o&&(o=new z(t,void 0,void 0)),!o.closed)return e instanceof G?e.subscribe(o):function(t){if(t&&"function"==typeof t[L])return i=t,function(t){var e=i[L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((o=t)&&"number"==typeof o.length&&"function"!=typeof o)return r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()};if(function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,T),t};if(t&&"function"==typeof t[Y])return e=t,function(t){for(var n=e[Y]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o,i,s=A(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+s+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}(e)(o)}(this,n,0,0,r);o!==r&&this.add(o)}},e}(N),X=n("Vgaj"),tt=function(t){function e(e){var n=t.call(this)||this;return n.toastService=e,n}return Object(r.__extends)(e,t),e.prototype.setShow=function(t){this.show=t},e.prototype.clickShow=function(){var t,e=this;s.KodiAppService.checkAndConnectToCurrentHost().pipe((t=function(t){return a("Error on kodi",t),e.toastService.simpleMessage("hostUnreachable"===t?"My Addon: Your kodi host is unreachable":"My Addon: You must add a kodi host"),X.NEVER},function(e){var n=new W(t),r=e.lift(n);return n.caught=r})).subscribe((function(){var t="plugin://plugin.video.youtube/?action=play_video&videoid="+new URLSearchParams(e.show.trailer.split("?")[1]).get("v");a("Opening URL",t),s.KodiPlayerOpenForm.submit(t).subscribe()}))},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](p))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],features:[u["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:0,consts:[["expand","block","color","custom",3,"click"]],template:function(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"ion-button",0),u["\u0275\u0275listener"]("click",(function(){return e.clickShow()})),u["\u0275\u0275text"](1," Open trailer on kodi\n"),u["\u0275\u0275elementEnd"]())},directives:[i.IonButton],styles:["ion-button[_ngcontent-%COMP%]{background-color:#d20012!important;border-radius:5px}"]}),e}(s.ShowDetailBaseComponent),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.pluginService=l,e.settingsComponent=I,e.movieComponent=_,e.episodeComponent=O,e.episodeItemOptionComponent=M,e.showComponent=tt,e.pluginDetailComponent=C,e.apiProvidersComponent=E,e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return nt(t||e)},providers:[l,p,f],imports:[[o.CommonModule,w.FormsModule,i.IonicModule.forRoot(),c.TranslateModule.forRoot()]]}),e}(s.PluginBaseModule),nt=u["\u0275\u0275getInheritedFactory"](et);e.default=et}})}));